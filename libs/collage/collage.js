function Collage(){for(var t=document.getElementById("collage"),e=t.getElementsByTagName("img"),n=175,h=3,l=[],g=[],i=0,r=0,o=0,u=0;u<e.length;u++)l.push(Math.round(e[u].width/e[u].height*n));for(Array.prototype.sum=function(){return this.reduce(function(t,e){return+e+t},0)};i<Math.ceil(l.sum()/t.clientWidth);){for(g[i]=[];r<l.length&&g[i].sum()+g[i].length*h<t.clientWidth+h;)if(g[i].push(l[r]),++r==l.length-1){g[i].push(l[r]),i++;break}i++}for(r=0,u=0;u<g.length;u++)for(var s=0;s<g[u].length;s++)o=(t.clientWidth-(g[u].length-1)*h)/g[u].sum(),e[r].style.width=g[u][s]*o+"px",e[r].style.height=o*n+"px",s<g[u].length-1&&(e[r].style.marginRight=h+"px"),u<g.length-1&&(e[r].style.marginBottom=h+"px"),r++}